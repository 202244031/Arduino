# 거리 센서를 이용한 LED 제어 프로젝트

이 프로젝트는 초음파 거리 센서(예: HC-SR04)를 사용하여 거리를 측정하고, 그 측정값에 따라 두 개의 LED(빨간색, 초록색)를 제어하는 시스템입니다. 일정 거리 이상이면 빨간색 LED가 켜지고, 그 이하이면 초록색 LED가 켜지도록 설정됩니다.

## 필요 부품

- Arduino 보드 (예: Arduino Uno)
- 초음파 거리 센서 (HC-SR04)
- 빨간색 LED
- 초록색 LED
- 220Ω 저항 (LED 연결용)
- 점퍼 와이어
- 브레드보드 (선택사항)

## 연결 다이어그램

1. **초음파 거리 센서 (HC-SR04)**:
   - **VCC**: 5V
   - **GND**: GND
   - **TRIG**: 디지털 핀 13 (Arduino)
   - **ECHO**: 디지털 핀 12 (Arduino)

2. **LED**:
   - **빨간색 LED**: 디지털 핀 7 (Arduino)
   - **초록색 LED**: 디지털 핀 8 (Arduino)

### LED 연결 참고:
LED의 긴 다리는 양극(+)으로, 짧은 다리는 음극(-)으로 연결합니다. 각 LED에 220Ω 저항을 직렬로 연결하여 Arduino 핀과 연결합니다.

## 코드 설명

### 변수 설정
- `TRIG`: 초음파 센서의 트리거 핀 (디지털 핀 13)
- `ECHO`: 초음파 센서의 에코 핀 (디지털 핀 12)
- `led_r`: 빨간색 LED 핀 (디지털 핀 7)
- `led_g`: 초록색 LED 핀 (디지털 핀 8)

### 초기 설정
- `Serial.begin(9600)`: 시리얼 통신을 9600 baud로 초기화합니다.
- `pinMode(TRIG, OUTPUT)`, `pinMode(ECHO, INPUT)`: 초음파 센서의 트리거 핀과 에코 핀을 설정합니다.
- `pinMode(led_r, OUTPUT)`, `pinMode(led_g, OUTPUT)`: LED 핀을 출력으로 설정합니다.

### 루프
1. 초음파 센서의 트리거 핀을 LOW로 설정한 후, 2마이크로초 대기합니다.
2. 트리거 핀을 HIGH로 설정하여 초음파 신호를 발사합니다.
3. 10마이크로초 후 트리거 핀을 LOW로 설정하여 초음파 발사를 종료합니다.
4. `pulseIn(ECHO, HIGH)`를 사용하여 초음파가 돌아오는 데 걸린 시간을 측정합니다.
5. 측정된 시간을 바탕으로 거리를 계산합니다. 거리 계산은 초음파의 왕복 시간을 58.2로 나눈 값으로 구합니다.
6. 거리가 100cm 이상이면 빨간색 LED가 켜지고, 그 이하면 초록색 LED가 켜집니다.
7. 1초 간격으로 반복합니다.

### 출력
- 시리얼 모니터에 거리와 초음파의 왕복 시간(duration)을 출력합니다.
- 거리 값이 100cm 이상이면 빨간색 LED가 켜지고, 100cm 미만이면 초록색 LED가 켜집니다.

## 사용 방법

1. **하드웨어 연결**: 모든 부품을 위에 설명한 대로 연결합니다.
2. **Arduino 코드 업로드**: Arduino IDE를 사용하여 제공된 코드를 Arduino 보드에 업로드합니다.
3. **시리얼 모니터 확인**: 코드가 실행되면 시리얼 모니터에 거리 값과 초음파의 왕복 시간이 출력됩니다.
4. **LED 상태 확인**: 물체와의 거리가 100cm 이상일 경우 빨간색 LED가 켜지고, 100cm 이하일 경우 초록색 LED가 켜집니다.

## 주의 사항

- 초음파 센서와 LED의 연결을 정확히 확인하고, 잘못된 핀에 연결하지 않도록 주의하세요.
- 거리 측정의 정확도는 센서와의 거리, 물체의 반사율 등에 영향을 받을 수 있습니다.
